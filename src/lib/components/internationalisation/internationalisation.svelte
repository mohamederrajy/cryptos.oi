<script lang="ts">
    import { onMount } from 'svelte';
    
    let isVisible = false;
    onMount(() => {
        isVisible = true;
    });

    const flagsRow1 = [
        { country: 'Norway', flag: 'ğŸ‡³ğŸ‡´' },
        { country: 'United Kingdom', flag: 'ğŸ‡¬ğŸ‡§', currency: 'GBP' },
        { country: 'Portugal', flag: 'ğŸ‡µğŸ‡¹' },
        { country: 'Australia', flag: 'ğŸ‡¦ğŸ‡º' },
        { country: 'South Korea', flag: 'ğŸ‡°ğŸ‡·', currency: 'KRW' },
        { country: 'Turkey', flag: 'ğŸ‡¹ğŸ‡·' },
        { country: 'Israel', flag: 'ğŸ‡®ğŸ‡±' },
        { country: 'Austria', flag: 'ğŸ‡¦ğŸ‡¹' }
    ];

    const flagsRow2 = [
        { country: 'Hungary', flag: 'ğŸ‡­ğŸ‡º' },
        { country: 'Denmark', flag: 'ğŸ‡©ğŸ‡°' },
        { country: 'UAE', flag: 'ğŸ‡¦ğŸ‡ª' },
        { country: 'England', flag: 'ğŸ‡¬ğŸ‡§' },
        { country: 'Hong Kong', flag: 'ğŸ‡­ğŸ‡°' },
        { country: 'Armenia', flag: 'ğŸ‡¦ğŸ‡²' },
        { country: 'European Union', flag: 'ğŸ‡ªğŸ‡º', currency: 'EUR' },
        { country: 'Japan', flag: 'ğŸ‡¯ğŸ‡µ' }
    ];

    const flagsRow3 = [
        { country: 'China', flag: 'ğŸ‡¨ğŸ‡³' },
        { country: 'Greece', flag: 'ğŸ‡¬ğŸ‡·' },
        { country: 'Sweden', flag: 'ğŸ‡¸ğŸ‡ª' },
        { country: 'Luxembourg', flag: 'ğŸ‡±ğŸ‡º' },
        { country: 'Ukraine', flag: 'ğŸ‡ºğŸ‡¦', currency: 'UAH' },
        { country: 'Bulgaria', flag: 'ğŸ‡§ğŸ‡¬' },
        { country: 'India', flag: 'ğŸ‡®ğŸ‡³' },
        { country: 'Estonia', flag: 'ğŸ‡ªğŸ‡ª' }
    ];

    const flagsRow4 = [
        { country: 'Italy', flag: 'ğŸ‡®ğŸ‡¹' },
        { country: 'Canada', flag: 'ğŸ‡¨ğŸ‡¦' },
        { country: 'Finland', flag: 'ğŸ‡«ğŸ‡®' },
        { country: 'Argentina', flag: 'ğŸ‡¦ğŸ‡·' },
        { country: 'United States', flag: 'ğŸ‡ºğŸ‡¸', currency: 'USD' },
        { country: 'Belgium', flag: 'ğŸ‡§ğŸ‡ª' },
        { country: 'Croatia', flag: 'ğŸ‡­ğŸ‡·' },
        { country: 'Georgia', flag: 'ğŸ‡¬ğŸ‡ª' }
    ];

    const flagsRow5 = [
        { country: 'France', flag: 'ğŸ‡«ğŸ‡·' },
        { country: 'Germany', flag: 'ğŸ‡©ğŸ‡ª' },
        { country: 'Spain', flag: 'ğŸ‡ªğŸ‡¸' },
        { country: 'United States', flag: 'ğŸ‡ºğŸ‡¸' },
        { country: 'Japan', flag: 'ğŸ‡¯ğŸ‡µ', currency: 'JPY' },
        { country: 'South Korea', flag: 'ğŸ‡°ğŸ‡·' },
        { country: 'Ireland', flag: 'ğŸ‡®ğŸ‡ª' },
        { country: 'Switzerland', flag: 'ğŸ‡¨ğŸ‡­' }
    ];
</script>

<section class="relative overflow-hidden py-20 w-screen -mx-[calc((100vw-100%)/2)]" id="internationalisation">
    <!-- Enhanced Background -->
    <div class="absolute inset-0 bg-[#fafafa]">
        <div class="absolute inset-0 bg-[url('/images/grid.svg')] opacity-[0.3]"></div>
        <div class="absolute inset-0">
            <div class="absolute top-0 right-0 w-[1500px] h-[1500px] 
                        bg-gradient-to-br from-[#605bff]/10 via-purple-100/10 to-transparent 
                        rounded-full blur-3xl transform rotate-12 animate-pulse"></div>
            <div class="absolute bottom-0 left-0 w-[1500px] h-[1500px] 
                        bg-gradient-to-tr from-[#32325d]/5 via-[#605bff]/5 to-transparent 
                        rounded-full blur-3xl transform -rotate-12 animate-pulse"></div>
        </div>
    </div>

    <div class="relative mx-auto transition-all duration-1000 
                {isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'}">
        <!-- Modern Header -->
        <div class="max-w-3xl mx-auto text-center mb-16 px-4">
            <div class="inline-flex items-center gap-3 rounded-full bg-white/90 p-1.5 pr-6 
                        backdrop-blur-xl border border-white/20 shadow-xl hover:shadow-2xl 
                        transition-all duration-300 mb-8 animate-float">
                <span class="rounded-full bg-gradient-to-r from-[#605bff] to-[#605bff]/90 
                           px-4 py-1.5 text-sm font-medium text-white relative overflow-hidden">
                    <span class="relative z-10">Global</span>
                    <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 
                              to-transparent animate-shimmer"></div>
                </span>
                <span class="text-sm font-medium text-[#32325d]">Payment Solutions</span>
            </div>

            <h2 class="text-5xl md:text-6xl font-bold leading-tight mb-8 text-[#32325d]">
                <span class="bg-gradient-to-r from-[#605bff] to-[#32325d] bg-clip-text text-transparent">
                    Internationalisation
                </span> and Localisation
            </h2>
            
            <p class="text-[#32325d]/70 text-lg max-w-2xl mx-auto">
                Our international Checkout solution supports an exhaustive list of 
                <span class="text-[#605bff] font-medium">200+ currencies</span>, 
                multi-language interface with support for 
                <span class="text-[#605bff] font-medium">25 languages</span> 
                and geolocation adaptability.
            </p>
        </div>

        <!-- Enhanced Flags Container with Full Width -->
        <div class="flex flex-col gap-4">
            <!-- Row 1 - Right to Left -->
            <div class="flex overflow-hidden group relative">
                <div class="absolute inset-y-0 left-0 w-24 bg-gradient-to-r from-[#fafafa] to-transparent z-10"></div>
                <div class="absolute inset-y-0 right-0 w-24 bg-gradient-to-l from-[#fafafa] to-transparent z-10"></div>
                <div class="flex gap-4 animate-scroll-rtl group-hover:[animation-play-state:paused]">
                    {#each [...flagsRow1, ...flagsRow1] as {country, flag, currency}}
                        <div class="flex items-center gap-2 bg-white/95 backdrop-blur-xl px-5 py-2.5 rounded-xl 
                                  shadow-lg hover:shadow-xl transition-all duration-300 
                                  border border-white/20 hover:border-[#605bff]/20 hover:-translate-y-1">
                            <span class="text-2xl">{flag}</span>
                            <span class="text-[#32325d] font-medium text-sm whitespace-nowrap">{country}</span>
                            {#if currency}
                                <span class="bg-[#605bff]/10 text-[#605bff] px-2 py-0.5 rounded-full text-xs font-medium">
                                    {currency}
                                </span>
                            {/if}
                        </div>
                    {/each}
                </div>
            </div>

            <!-- Row 2 - Left to Right -->
            <div class="flex overflow-hidden group">
                <div class="flex gap-4 animate-scroll-ltr group-hover:[animation-play-state:paused]">
                    {#each [...flagsRow2, ...flagsRow2] as {country, flag, currency}}
                        <div class="flex items-center gap-2 bg-white/95 backdrop-blur-xl px-5 py-2.5 rounded-xl 
                                  shadow-lg hover:shadow-xl transition-all duration-300 
                                  border border-white/20 hover:border-[#605bff]/20 hover:-translate-y-1">
                            <span class="text-2xl">{flag}</span>
                            <span class="text-[#32325d] font-medium text-sm whitespace-nowrap">{country}</span>
                            {#if currency}
                                <span class="bg-[#605bff]/10 text-[#605bff] px-2 py-0.5 rounded-full text-xs font-medium">
                                    {currency}
                                </span>
                            {/if}
                        </div>
                    {/each}
                </div>
            </div>

            <!-- Row 3 - Right to Left -->
            <div class="flex overflow-hidden group">
                <div class="flex gap-4 animate-scroll-rtl group-hover:[animation-play-state:paused]">
                    {#each [...flagsRow3, ...flagsRow3] as {country, flag, currency}}
                        <div class="flex items-center gap-2 bg-white/95 backdrop-blur-xl px-5 py-2.5 rounded-xl 
                                  shadow-lg hover:shadow-xl transition-all duration-300 
                                  border border-white/20 hover:border-[#605bff]/20 hover:-translate-y-1">
                            <span class="text-2xl">{flag}</span>
                            <span class="text-[#32325d] font-medium text-sm whitespace-nowrap">{country}</span>
                            {#if currency}
                                <span class="bg-[#605bff]/10 text-[#605bff] px-2 py-0.5 rounded-full text-xs font-medium">
                                    {currency}
                                </span>
                            {/if}
                        </div>
                    {/each}
                </div>
            </div>

            <!-- Row 4 - Left to Right -->
            <div class="flex overflow-hidden group">
                <div class="flex gap-4 animate-scroll-ltr group-hover:[animation-play-state:paused]">
                    {#each [...flagsRow4, ...flagsRow4] as {country, flag, currency}}
                        <div class="flex items-center gap-2 bg-white/95 backdrop-blur-xl px-5 py-2.5 rounded-xl 
                                  shadow-lg hover:shadow-xl transition-all duration-300 
                                  border border-white/20 hover:border-[#605bff]/20 hover:-translate-y-1">
                            <span class="text-2xl">{flag}</span>
                            <span class="text-[#32325d] font-medium text-sm whitespace-nowrap">{country}</span>
                            {#if currency}
                                <span class="bg-[#605bff]/10 text-[#605bff] px-2 py-0.5 rounded-full text-xs font-medium">
                                    {currency}
                                </span>
                            {/if}
                        </div>
                    {/each}
                </div>
            </div>

            <!-- Row 5 - Right to Left -->
            <div class="flex overflow-hidden group">
                <div class="flex gap-4 animate-scroll-rtl group-hover:[animation-play-state:paused]">
                    {#each [...flagsRow5, ...flagsRow5] as {country, flag, currency}}
                        <div class="flex items-center gap-2 bg-white/95 backdrop-blur-xl px-5 py-2.5 rounded-xl 
                                  shadow-lg hover:shadow-xl transition-all duration-300 
                                  border border-white/20 hover:border-[#605bff]/20 hover:-translate-y-1">
                            <span class="text-2xl">{flag}</span>
                            <span class="text-[#32325d] font-medium text-sm whitespace-nowrap">{country}</span>
                            {#if currency}
                                <span class="bg-[#605bff]/10 text-[#605bff] px-2 py-0.5 rounded-full text-xs font-medium">
                                    {currency}
                                </span>
                            {/if}
                        </div>
                    {/each}
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    @keyframes scroll-rtl {
        from { transform: translateX(0); }
        to { transform: translateX(calc(-50% - 1rem)); }
    }

    @keyframes scroll-ltr {
        from { transform: translateX(calc(-50% - 1rem)); }
        to { transform: translateX(0); }
    }

    .animate-scroll-rtl {
        animation: scroll-rtl 30s linear infinite;
        will-change: transform;
    }

    .animate-scroll-ltr {
        animation: scroll-ltr 30s linear infinite;
        will-change: transform;
    }

    @keyframes shimmer {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(100%); }
    }

    @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }

    .animate-shimmer {
        animation: shimmer 2s infinite;
    }

    .animate-float {
        animation: float 3s ease-in-out infinite;
    }
</style>